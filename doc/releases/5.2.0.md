## What's Changed

- Fix exception on command line progress bar when `tqdm` is not installed

- Fix a few packaging details (PEP 639) (#684)

- Fix potential error in library compatibility:

  - `Entry`: add back `word=` keyword argument as deprecated, also make `defi` arg optional

- Add command `pyglossary-diff`, #686

- Add/update type annotations, update documentation and sample codes

- FreeDict: set `auto_rtl=True` by default, drop support for `auto_rtl=None`

- CSV writer: show error for bad encoding value

- StarDict:

  - Reader" replace `sametypesequence=None` with `sametypesequence="-"`
    Now `sametypesequence=None` is the same as `sametypesequence=""`
    which means auto-set based on contents

  - Writer: replace `sqlite=None` option with `autosqlite=True`

- Zim reader: fix quoting of href= value

- Edict2

  - Add test
  - Add option to create links from references to other words (#679)
  - Make summary alternatives optional (#682)
  - Improve pinyin (romanization) (#678)

- Tkinter UI: Lots of improvements and new options

  - Re-design Read/Write Options Dialog without Treeview
  - Move Read/Write Options into "Options" MenuButton, like ui_gtk3
  - Add Options -> Info / Metedata
  - Add Options -> General Options
  - Fix Format Dialog's Treeview row height and fast scrolling
  - Fix not validating inputFormat and outputFormat given by command line

- Gtk3 UI: Lots of improvements and new options

  - Re-design Read/Write Options Dialog without Treeview
  - Gerenal Options: Sort: use RadioButton and some fixes
  - Fix dialog for showing dependencies
  - Fix not validating inputFormat and outputFormat given by command line

- Gtk4 UI: Lots of improvements and new options

  - Re-design Read/Write Options Dialog without Treeview
  - Replace read/write/general options buttons with a single "Options" MenuButton
  - Gerenal Options: Sort: add Locale and fix updateWidgets
  - Fix not validating inputFormat and outputFormat given by command line

## New Contributors

- @benfl made their first contribution in https://github.com/ilius/pyglossary/pull/678
- @doronbehar made their first contribution in https://github.com/ilius/pyglossary/pull/684

**Full Changelog**: https://github.com/ilius/pyglossary/compare/5.1.1...5.2.0
